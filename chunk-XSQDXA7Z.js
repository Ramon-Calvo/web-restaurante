import{a as B}from"./chunk-XR5YHNJE.js";import{a as F,b as N,c as T,d as V,e as I,f as z,j as D,k as W,l as R,m as q}from"./chunk-RZ2VWOOQ.js";import{f as E,g as k}from"./chunk-6Z5PNTCW.js";import{Ja as P,S as f,Ta as m,Tb as y,Ua as c,X as g,Xa as w,Y as p,Ya as n,Za as e,cb as O,eb as L,fa as u,gb as C,kb as S,lb as b,nb as t,pb as _,rb as M,sb as h,tb as v,va as a}from"./chunk-RUVTLGDO.js";function A(i,r){i&1&&(n(0,"span",9),t(1,"El correo es obligatorio"),e())}function G(i,r){i&1&&(n(0,"span",9),t(1,"La contrase\xF1a es obligatoria"),e())}function K(i,r){if(i&1&&(n(0,"div",12),t(1),e()),i&2){let s=C();a(),_(" ",s.errorMessage()," ")}}function U(i,r){if(i&1&&(n(0,"div",13),t(1),e()),i&2){let s=C();a(),_(" ",s.successMessage()," ")}}function Y(i,r){i&1&&(n(0,"span"),t(1,"Iniciando sesi\xF3n..."),e())}function H(i,r){i&1&&(n(0,"span"),t(1,"Iniciar Sesi\xF3n"),e())}var j=class i{authService=f(B);router=f(E);email="";password="";isLoading=u(!1);errorMessage=u("");successMessage=u("");constructor(){console.log("\u{1F510} LoginComponent: Inicializado")}async onLogin(){if(console.log("\u{1F510} LoginComponent: Intento de login",{email:this.email}),this.errorMessage.set(""),this.successMessage.set(""),!this.email||!this.password){this.errorMessage.set("Por favor completa todos los campos");return}if(this.password.length<6){this.errorMessage.set("La contrase\xF1a debe tener al menos 6 caracteres");return}this.isLoading.set(!0);try{await new Promise(r=>setTimeout(r,1e3)),this.authService.signIn(this.email,this.password),console.log("\u{1F510} LoginComponent: Login exitoso"),this.successMessage.set("\xA1Inicio de sesi\xF3n exitoso! Redirigiendo..."),setTimeout(()=>{this.router.navigate(["/menu"])},1e3)}catch(r){console.error("\u{1F510} LoginComponent: Error en login",r),this.errorMessage.set("Error al iniciar sesi\xF3n. Intenta de nuevo.")}finally{this.isLoading.set(!1)}}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=P({type:i,selectors:[["app-login"]],decls:40,vars:12,consts:[["loginForm","ngForm"],[1,"login-page"],[1,"container"],[1,"login-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","tu@email.com",3,"ngModelChange","ngModel"],[1,"error-message"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],[1,"alert","alert--error"],[1,"alert","alert--success"],["type","submit",1,"btn","btn--primary","btn--full",3,"disabled"],[1,"divider"],[1,"alternative-actions"],["routerLink","/register"],["routerLink","/menu"],[1,"demo-info"]],template:function(s,o){if(s&1){let l=O();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),t(4,"Iniciar Sesi\xF3n"),e(),n(5,"p",4),t(6,"Bienvenido de vuelta a Kebab Restaurant"),e(),n(7,"form",5,0),L("ngSubmit",function(){return g(l),p(o.onLogin())}),n(9,"div",6)(10,"label",7),t(11,"Correo Electr\xF3nico"),e(),n(12,"input",8),v("ngModelChange",function(d){return g(l),h(o.email,d)||(o.email=d),p(d)}),e(),m(13,A,2,0,"span",9),e(),n(14,"div",6)(15,"label",10),t(16,"Contrase\xF1a"),e(),n(17,"input",11),v("ngModelChange",function(d){return g(l),h(o.password,d)||(o.password=d),p(d)}),e(),m(18,G,2,0,"span",9),e(),m(19,K,2,1,"div",12),m(20,U,2,1,"div",13),n(21,"button",14),m(22,Y,2,0,"span")(23,H,2,0,"span"),e()(),n(24,"div",15)(25,"span"),t(26,"O"),e()(),n(27,"div",16)(28,"p"),t(29,"\xBFNo tienes cuenta? "),n(30,"a",17),t(31,"Crear cuenta"),e()(),n(32,"p")(33,"a",18),t(34,"Continuar sin iniciar sesi\xF3n"),e()()(),n(35,"div",19)(36,"p")(37,"strong"),t(38,"Demo:"),e(),t(39," Usa cualquier correo y contrase\xF1a"),e()()()()()}if(s&2){let l=S(8);a(12),b("error",l.submitted&&!o.email),M("ngModel",o.email),a(),c(l.submitted&&!o.email?13:-1),a(4),b("error",l.submitted&&!o.password),M("ngModel",o.password),a(),c(l.submitted&&!o.password?18:-1),a(),c(o.errorMessage()?19:-1),a(),c(o.successMessage()?20:-1),a(),w("disabled",o.isLoading()),a(),c(o.isLoading()?22:23)}},dependencies:[y,q,z,F,N,T,D,R,W,I,V,k],styles:['.login-page[_ngcontent-%COMP%]{min-height:100vh;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem 1rem}.container[_ngcontent-%COMP%]{width:100%;max-width:450px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem 2rem;box-shadow:0 4px 20px #0000001a;border:1px solid #e0e0e0}h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:.5rem;font-size:2rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#333;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d32f2f}input.error[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{display:block;color:#f44336;font-size:.875rem;margin-top:.25rem}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:.9rem}.alert--error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;border:1px solid #ef9a9a}.alert--success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;border:1px solid #a5d6a7}.btn[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s}.btn--primary[_ngcontent-%COMP%]{background:#d32f2f;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#b71c1c;transform:translateY(-2px);box-shadow:0 4px 12px #d32f2f4d}.btn--primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn--full[_ngcontent-%COMP%]{width:100%}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:2rem 0}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;width:100%;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;background:#fff;padding:0 1rem;color:#999;font-size:.875rem}.alternative-actions[_ngcontent-%COMP%]{text-align:center}.alternative-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0;color:#666}.alternative-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d32f2f;text-decoration:none;font-weight:600}.alternative-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-info[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background:#f5f5f5;border-radius:8px;text-align:center}.demo-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}@media (max-width: 768px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}}']})};export{j as LoginComponent};
