import{a as y}from"./chunk-COEAG7CJ.js";import{d as M,g as h}from"./chunk-6Z5PNTCW.js";import{Ja as P,S as x,Ta as l,Tb as S,Ua as m,Va as u,Wa as C,Xa as b,Ya as i,Za as t,_a as s,fa as v,gb as p,lb as c,mb as E,nb as n,ob as g,pb as a,qb as _,sa as O,va as o}from"./chunk-RUVTLGDO.js";var T=(r,d)=>d.id,D=(r,d)=>d.optionId;function w(r,d){if(r&1&&(i(0,"span"),n(1),t()),r&2){let e=d.$implicit;o(),g(e.optionName)}}function A(r,d){if(r&1&&(i(0,"div",20),u(1,w,2,1,"span",null,D),t()),r&2){let e=p().$implicit;o(),C(e.selectedCustomizations)}}function z(r,d){if(r&1&&(i(0,"div",12),s(1,"img",18),i(2,"div",19)(3,"h3"),n(4),t(),i(5,"p"),n(6),t(),l(7,A,3,0,"div",20),t(),i(8,"div",21),n(9),t()()),r&2){let e=d.$implicit;o(),b("src",e.menuItem.image,O)("alt",e.menuItem.name),o(3),g(e.menuItem.name),o(2),a("Cantidad: ",e.quantity),o(),m(e.selectedCustomizations.length>0?7:-1),o(2),a("",e.totalPrice.toFixed(2),"\u20AC")}}function F(r,d){if(r&1&&n(0),r&2){let e=p(3);a(" , ",e.order().deliveryInfo.address.floor," ")}}function R(r,d){if(r&1&&n(0),r&2){let e=p(3);a(" ",e.order().deliveryInfo.address.door," ")}}function L(r,d){if(r&1&&(i(0,"p")(1,"strong"),n(2,"Direcci\xF3n:"),t()(),i(3,"p"),n(4),l(5,F,1,1),l(6,R,1,1),t(),i(7,"p"),n(8),t()),r&2){let e=p(2);o(4),_(" ",e.order().deliveryInfo.address.street," ",e.order().deliveryInfo.address.number," "),o(),m(e.order().deliveryInfo.address.floor?5:-1),o(),m(e.order().deliveryInfo.address.door?6:-1),o(2),_("",e.order().deliveryInfo.address.city,", ",e.order().deliveryInfo.address.postalCode)}}function N(r,d){r&1&&(i(0,"p")(1,"strong"),n(2,"Tipo:"),t(),n(3," Recoger en tienda"),t())}function j(r,d){if(r&1&&(i(0,"div",17)(1,"h2"),n(2,"Tiempo Estimado de Entrega"),t(),i(3,"p",22),n(4),t()()),r&2){let e=p(2);o(4),g(e.formatTime(e.order().estimatedDeliveryTime))}}function $(r,d){if(r&1&&(i(0,"div",3)(1,"h1"),n(2),t(),i(3,"span",4),n(4),t()(),i(5,"div",5)(6,"div",6)(7,"div",7),n(8,"\u{1F4DD}"),t(),i(9,"div",8),n(10,"Recibido"),t()(),s(11,"div",9),i(12,"div",6)(13,"div",7),n(14,"\u2705"),t(),i(15,"div",8),n(16,"Confirmado"),t()(),s(17,"div",9),i(18,"div",6)(19,"div",7),n(20,"\u{1F468}\u200D\u{1F373}"),t(),i(21,"div",8),n(22,"Preparando"),t()(),s(23,"div",9),i(24,"div",6)(25,"div",7),n(26,"\u{1F4E6}"),t(),i(27,"div",8),n(28,"Listo"),t()(),s(29,"div",9),i(30,"div",6)(31,"div",7),n(32,"\u{1F69A}"),t(),i(33,"div",8),n(34,"En Camino"),t()(),s(35,"div",9),i(36,"div",6)(37,"div",7),n(38,"\u2728"),t(),i(39,"div",8),n(40,"Entregado"),t()()(),i(41,"div",10)(42,"div",11)(43,"h2"),n(44,"Art\xEDculos del Pedido"),t(),u(45,z,10,6,"div",12,T),t(),i(47,"div",13)(48,"div",14)(49,"h2"),n(50,"Informaci\xF3n de Entrega"),t(),i(51,"p")(52,"strong"),n(53,"Nombre:"),t(),n(54),t(),i(55,"p")(56,"strong"),n(57,"Tel\xE9fono:"),t(),n(58),t(),i(59,"p")(60,"strong"),n(61,"Email:"),t(),n(62),t(),l(63,L,9,6)(64,N,4,0,"p"),t(),i(65,"div",14)(66,"h2"),n(67,"Resumen del Pago"),t(),i(68,"div",15)(69,"span"),n(70,"Subtotal"),t(),i(71,"span"),n(72),t()(),i(73,"div",15)(74,"span"),n(75,"IVA"),t(),i(76,"span"),n(77),t()(),i(78,"div",15)(79,"span"),n(80,"Env\xEDo"),t(),i(81,"span"),n(82),t()(),i(83,"div",16)(84,"span"),n(85,"Total"),t(),i(86,"span"),n(87),t()()(),l(88,j,5,1,"div",17),t()()),r&2){let e=p();o(2),a("Pedido #",e.order().id),o(),E("status-"+e.order().status),o(),a(" ",e.getStatusLabel(e.order().status)," "),o(2),c("active",e.isStepActive("pending"))("completed",e.isStepCompleted("pending")),o(5),c("completed",e.isStepCompleted("confirmed")),o(),c("active",e.isStepActive("confirmed"))("completed",e.isStepCompleted("confirmed")),o(5),c("completed",e.isStepCompleted("preparing")),o(),c("active",e.isStepActive("preparing"))("completed",e.isStepCompleted("preparing")),o(5),c("completed",e.isStepCompleted("ready")),o(),c("active",e.isStepActive("ready"))("completed",e.isStepCompleted("ready")),o(5),c("completed",e.isStepCompleted("out_for_delivery")),o(),c("active",e.isStepActive("out_for_delivery"))("completed",e.isStepCompleted("out_for_delivery")),o(5),c("completed",e.isStepCompleted("delivered")),o(),c("active",e.isStepActive("delivered"))("completed",e.isStepCompleted("delivered")),o(9),C(e.order().items),o(9),a(" ",e.order().deliveryInfo.name),o(4),a(" ",e.order().deliveryInfo.phone),o(4),a(" ",e.order().deliveryInfo.email),o(),m(e.order().deliveryInfo.deliveryType==="delivery"?63:64),o(9),a("",e.order().subtotal.toFixed(2),"\u20AC"),o(5),a("",e.order().tax.toFixed(2),"\u20AC"),o(5),a("",e.order().deliveryFee.toFixed(2),"\u20AC"),o(5),a("",e.order().total.toFixed(2),"\u20AC"),o(),m(e.order().estimatedDeliveryTime?88:-1)}}function V(r,d){r&1&&(i(0,"div",2)(1,"h2"),n(2,"Pedido no encontrado"),t(),i(3,"p"),n(4,"No pudimos encontrar el pedido que buscas"),t(),i(5,"a",23),n(6,"Volver al Men\xFA"),t()())}var k=class r{route=x(M);orderService=x(y);order=v(null);ngOnInit(){let d=this.route.snapshot.paramMap.get("id");if(d){let e=this.orderService.getOrderById(d);e&&this.order.set(e)}}getStatusLabel(d){return{pending:"Pendiente",confirmed:"Confirmado",preparing:"Preparando",ready:"Listo",out_for_delivery:"En Camino",delivered:"Entregado",cancelled:"Cancelado"}[d]}isStepActive(d){return this.order()?.status===d}isStepCompleted(d){let e=["pending","confirmed","preparing","ready","out_for_delivery","delivered"],f=e.indexOf(this.order()?.status||""),I=e.indexOf(d);return f>I}formatTime(d){return new Date(d).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=P({type:r,selectors:[["app-order-tracking"]],decls:4,vars:1,consts:[[1,"tracking-page"],[1,"container"],[1,"not-found"],[1,"order-header"],[1,"order-status"],[1,"progress-tracker"],[1,"progress-step"],[1,"step-icon"],[1,"step-label"],[1,"progress-line"],[1,"order-content"],[1,"order-items"],[1,"order-item"],[1,"order-info"],[1,"info-section"],[1,"summary-row"],[1,"summary-row","total"],[1,"info-section","estimated-time"],[3,"src","alt"],[1,"item-details"],[1,"customizations"],[1,"item-price"],[1,"time"],["routerLink","/menu",1,"btn"]],template:function(e,f){e&1&&(i(0,"div",0)(1,"div",1),l(2,$,89,47)(3,V,7,0,"div",2),t()()),e&2&&(o(2),m(f.order()?2:3))},dependencies:[S,h],styles:[".tracking-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;padding:2rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}.order-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.order-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.order-status[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1.5rem;border-radius:25px;font-weight:600;font-size:1rem}.status-pending[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.status-confirmed[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.status-preparing[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.status-ready[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.status-out_for_delivery[_ngcontent-%COMP%]{background:#e1f5fe;color:#0277bd}.status-delivered[_ngcontent-%COMP%]{background:#c8e6c9;color:#2e7d32}.status-cancelled[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.progress-tracker[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:3rem;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow-x:auto}.progress-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;opacity:.4;transition:opacity .3s}.progress-step.active[_ngcontent-%COMP%], .progress-step.completed[_ngcontent-%COMP%]{opacity:1}.step-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#f5f5f5;display:flex;align-items:center;justify-content:center;font-size:1.5rem;margin-bottom:.5rem}.progress-step.active[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;animation:_ngcontent-%COMP%_pulse 2s infinite}.progress-step.completed[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{background:#4caf50}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.step-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#666;white-space:nowrap}.progress-line[_ngcontent-%COMP%]{width:60px;height:3px;background:#e0e0e0;margin:0 .5rem;position:relative;top:-20px}.progress-line.completed[_ngcontent-%COMP%]{background:#4caf50}.order-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:2rem}.order-items[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.order-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem}.order-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr auto;gap:1rem;padding:1rem;border-bottom:1px solid #eee}.order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:8px}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:.25rem;font-size:1.1rem}.item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.customizations[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.customizations[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#f5f5f5;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;color:#666}.item-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#d32f2f}.order-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.info-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:1.25rem;margin-bottom:1rem}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6;margin-bottom:.5rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;color:#666}.summary-row.total[_ngcontent-%COMP%]{border-top:2px solid #eee;margin-top:.5rem;padding-top:1rem;font-size:1.25rem;font-weight:700;color:#333}.estimated-time[_ngcontent-%COMP%]{text-align:center}.time[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#d32f2f}.not-found[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:2rem}.btn[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:#d32f2f;color:#fff;text-decoration:none;border-radius:25px;font-weight:600;transition:background .2s}.btn[_ngcontent-%COMP%]:hover{background:#b71c1c}@media (max-width: 968px){.order-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.progress-tracker[_ngcontent-%COMP%]{padding:1rem}.step-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.progress-line[_ngcontent-%COMP%]{width:40px}.step-label[_ngcontent-%COMP%]{font-size:.8rem}}"]})};export{k as OrderTrackingComponent};
