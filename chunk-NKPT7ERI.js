import{a as k,b as N,c as V}from"./chunk-QZOOR45V.js";import{a as D}from"./chunk-3G2XIVR7.js";import{a as I,b as T,e as F,m as A}from"./chunk-RZ2VWOOQ.js";import{Cb as S,Ja as w,S as M,Ta as f,Tb as E,Ua as _,Va as x,Wa as v,X as p,Xa as C,Y as g,Ya as a,Za as i,_a as O,cb as b,eb as u,fa as m,gb as d,lb as y,nb as s,ob as h,pb as z,sa as P,va as c}from"./chunk-RUVTLGDO.js";var B=(n,t)=>t.value,$=(n,t)=>t.id;function q(n,t){if(n&1){let e=b();a(0,"button",11),u("click",function(){let r=p(e).$implicit,l=d();return g(l.selectCategory(r.value))}),s(1),i()}if(n&2){let e=t.$implicit,o=d();y("active",o.selectedCategory()===e.value),c(),h(e.label)}}function j(n,t){if(n&1){let e=b();a(0,"button",12),u("click",function(){p(e);let r=d();return g(r.searchInput.set(""))}),s(1,"\u2715"),i()}}function U(n,t){n&1&&(a(0,"div",8),s(1,"Cargando men\xFA..."),i())}function K(n,t){n&1&&(a(0,"div",13)(1,"div",15),s(2,"\u{1F37D}\uFE0F"),i(),a(3,"h2"),s(4,"Selecciona una categor\xEDa o busca un producto"),i(),a(5,"p"),s(6,"Elige una categor\xEDa arriba o utiliza el buscador para encontrar lo que deseas"),i()())}function R(n,t){n&1&&(a(0,"div",20),s(1,"No disponible"),i())}function Y(n,t){if(n&1){let e=b();a(0,"div",16)(1,"div",18),O(2,"img",19),f(3,R,2,0,"div",20),i(),a(4,"div",21)(5,"h3"),s(6),i(),a(7,"p"),s(8),i(),a(9,"div",22)(10,"span",23),s(11),i(),a(12,"button",24),u("click",function(){let r=p(e).$implicit,l=d(3);return g(l.addToCart(r))}),s(13,"A\xF1adir al Carrito"),i()()()()}if(n&2){let e=t.$implicit;c(2),C("src",e.image,P)("alt",e.name),c(),_(e.available?-1:3),c(3),h(e.name),c(2),h(e.description),c(3),z("",e.price.toFixed(2),"\u20AC"),c(),C("disabled",!e.available)}}function G(n,t){n&1&&(a(0,"div",17)(1,"p"),s(2,"No se encontraron resultados"),i()())}function H(n,t){if(n&1&&(a(0,"div",14),x(1,Y,14,7,"div",16,$,!1,G,3,0,"div",17),i()),n&2){let e=d(2);c(),v(e.filteredItems())}}function J(n,t){if(n&1&&f(0,K,7,0,"div",13)(1,H,4,1,"div",14),n&2){let e=d();_(!e.selectedCategory()&&!e.searchInput().trim()?0:1)}}function Q(n,t){if(n&1){let e=b();a(0,"app-product-customization-modal",25),u("confirm",function(r){p(e);let l=d();return g(l.onConfirmCustomization(r))})("cancel",function(){p(e);let r=d();return g(r.onCancelCustomization())}),i()}if(n&2){let e=d();C("show",e.showCustomizationModal())("product",e.selectedProduct())}}var L=class n{menuService=M(k);cartService=M(D);selectedCategory=m(null);categories=[{value:"kebab",label:"Kebabs"},{value:"durum",label:"Durums"},{value:"plato",label:"Platos"},{value:"ensalada",label:"Ensaladas"},{value:"bebida",label:"Bebidas"},{value:"postre",label:"Postres"}];searchInput=m("");filteredItems=S(()=>{let t=this.selectedCategory(),e=this.searchInput().trim();if(!t&&!e)return[];let o=this.menuService.items();if(e){let r=e.toLowerCase();o=o.filter(l=>l.name.toLowerCase().includes(r)||l.description.toLowerCase().includes(r))}else t&&(o=o.filter(r=>r.category===t));return o});selectCategory(t){this.selectedCategory.set(t),t&&this.searchInput.set("")}onSearch(){}showCustomizationModal=m(!1);selectedProduct=m(null);addToCart(t){if(t.customizations&&t.customizations.length>0)this.selectedProduct.set(t),this.showCustomizationModal.set(!0);else try{this.cartService.addItem(t,1,[]),this.notificationMessage.set(`${t.name} a\xF1adido al carrito`),this.showNotification.set(!0)}catch{this.notificationMessage.set("Error al a\xF1adir el producto"),this.showNotification.set(!0)}}onConfirmCustomization(t){let e=this.selectedProduct();if(e)try{this.cartService.addItem(e,t.quantity,t.customizations,t.specialInstructions),this.notificationMessage.set(`${e.name} a\xF1adido al carrito`),this.showNotification.set(!0)}catch{this.notificationMessage.set("Error al a\xF1adir el producto"),this.showNotification.set(!0)}this.showCustomizationModal.set(!1),this.selectedProduct.set(null)}onCancelCustomization(){this.showCustomizationModal.set(!1),this.selectedProduct.set(null)}showNotification=m(!1);notificationMessage=m("");closeNotification(){this.showNotification.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-menu"]],decls:17,vars:10,consts:[[1,"menu-page"],[1,"container"],[1,"categories"],[1,"category-btn",3,"active"],[1,"search-bar"],["type","text","placeholder","Buscar en todo el men\xFA...","aria-label","Buscar productos",3,"ngModelChange","ngModel"],["aria-label","Limpiar b\xFAsqueda","title","Limpiar",1,"clear-btn"],["aria-label","Buscar",1,"search-btn"],[1,"loading"],[3,"close","isOpen","title","message","type","autoClose","autoCloseDelay"],[3,"show","product"],[1,"category-btn",3,"click"],["aria-label","Limpiar b\xFAsqueda","title","Limpiar",1,"clear-btn",3,"click"],[1,"no-category-selected"],[1,"menu-grid"],[1,"icon"],[1,"menu-card"],[1,"no-results"],[1,"menu-card__image"],[3,"src","alt"],[1,"unavailable-badge"],[1,"menu-card__content"],[1,"menu-card__footer"],[1,"price"],[1,"btn-add",3,"click","disabled"],[3,"confirm","cancel","show","product"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Nuestro Men\xFA"),i(),a(4,"div",2),x(5,q,2,3,"button",3,B),i(),a(7,"div",4)(8,"input",5),u("ngModelChange",function(l){return o.searchInput.set(l)}),i(),f(9,j,2,0,"button",6),a(10,"button",7)(11,"span"),s(12,"\u{1F50D}"),i()()(),f(13,U,2,0,"div",8)(14,J,2,1),i()(),a(15,"app-notification-modal",9),u("close",function(){return o.closeNotification()}),i(),f(16,Q,1,2,"app-product-customization-modal",10)),e&2&&(c(5),v(o.categories),c(3),C("ngModel",o.searchInput()),c(),_(o.searchInput()?9:-1),c(4),_(o.menuService.isLoading()?13:14),c(2),C("isOpen",o.showNotification())("title","\xA1Producto a\xF1adido!")("message",o.notificationMessage())("type","success")("autoClose",!0)("autoCloseDelay",2500),c(),_(o.showCustomizationModal()&&o.selectedProduct()?16:-1))},dependencies:[E,A,I,T,F,N,V],styles:['.menu-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;padding:2.5rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem;font-size:1.75rem;padding-top:1rem}.categories[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin-bottom:1.5rem}.category-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #ddd;background:#fff;border-radius:20px;cursor:pointer;font-weight:500;font-size:.9rem;transition:all .2s}.category-btn[_ngcontent-%COMP%]:hover{border-color:#d32f2f;color:#d32f2f}.category-btn.active[_ngcontent-%COMP%]{background:#d32f2f;border-color:#d32f2f;color:#fff}.search-bar[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 2rem;display:flex;gap:.75rem;align-items:center;position:relative}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem 2.5rem .75rem 1.25rem;border:2px solid #e0e0e0;border-radius:50px;font-size:.9rem;transition:all .3s ease;background:#fff;box-shadow:0 2px 8px #0000000d}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d32f2f;box-shadow:0 4px 12px #d32f2f26;transform:translateY(-1px)}.clear-btn[_ngcontent-%COMP%]{position:absolute;right:65px;background:#e0e0e0;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#666;z-index:1}.clear-btn[_ngcontent-%COMP%]:hover{background:#d32f2f;color:#fff;transform:rotate(90deg)}.search-btn[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#d32f2f,#b71c1c);border:none;border-radius:50%;width:46px;height:46px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;font-size:1.2rem;box-shadow:0 4px 12px #d32f2f4d;overflow:hidden}.search-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.search-btn[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(5deg);box-shadow:0 6px 20px #d32f2f66}.search-btn[_ngcontent-%COMP%]:hover:before{left:100%}.search-btn[_ngcontent-%COMP%]:active{transform:scale(.95) rotate(-5deg);box-shadow:0 2px 8px #d32f2f4d}.search-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.search-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;border-radius:50%;background:#fff6;transform:scale(0);opacity:0;transition:all .4s ease-out}.search-btn[_ngcontent-%COMP%]:active:after{transform:scale(1.5);opacity:1;transition:0s}.menu-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.menu-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column;height:100%}.menu-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 16px #00000026}.menu-card__image[_ngcontent-%COMP%]{position:relative;width:100%;height:160px;background:#eee;overflow:hidden}.menu-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.unavailable-badge[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#000c;color:#fff;padding:.4rem .8rem;border-radius:4px;font-weight:700;font-size:.85rem}.menu-card__content[_ngcontent-%COMP%]{padding:1.25rem 1rem 1rem;display:flex;flex-direction:column;flex:1}.menu-card__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-size:1.1rem}.menu-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.4;margin-bottom:.75rem;font-size:.85rem}.spicy-level[_ngcontent-%COMP%]{margin-bottom:.6rem;font-size:1rem}.menu-card__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:.6rem}.price[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#d32f2f}.btn-add[_ngcontent-%COMP%]{padding:.6rem 1.2rem;background:#d32f2f;color:#fff;border:none;border-radius:20px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background .2s}.btn-add[_ngcontent-%COMP%]:hover:not(:disabled){background:#b71c1c}.btn-add[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.loading[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem;font-size:1.1rem;color:#666}.no-category-selected[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;max-width:600px;margin:0 auto}.no-category-selected[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1.5rem;opacity:.5}.no-category-selected[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin-bottom:.75rem}.no-category-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;line-height:1.6}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .search-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.menu-page[_ngcontent-%COMP%]{padding:2rem 0}.menu-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.25rem;padding-top:.5rem}.categories[_ngcontent-%COMP%]{margin-bottom:1.25rem}.search-bar[_ngcontent-%COMP%]{max-width:100%;gap:.5rem;margin-bottom:1.5rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem 2.5rem .7rem 1.2rem;font-size:.85rem}.clear-btn[_ngcontent-%COMP%]{right:55px;width:22px;height:22px;font-size:.85rem}.search-btn[_ngcontent-%COMP%]{width:42px;height:42px;font-size:1.1rem}}']})};export{L as MenuComponent};
