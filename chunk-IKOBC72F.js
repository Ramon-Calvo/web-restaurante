import{a as B}from"./chunk-XR5YHNJE.js";import{a as L,b as V,c as k,d as N,e as W,f as F,j as z,k as D,l as I,m as q}from"./chunk-RZ2VWOOQ.js";import{f as R,g as T}from"./chunk-6Z5PNTCW.js";import{Ja as P,S as h,Ta as m,Tb as O,Ua as g,X as c,Xa as x,Y as p,Ya as n,Za as e,cb as y,eb as E,fa as M,gb as w,kb as S,lb as u,nb as o,pb as v,rb as f,sb as C,tb as _,va as a}from"./chunk-RUVTLGDO.js";function j(i,l){i&1&&(n(0,"span",9),o(1,"El nombre es obligatorio"),e())}function Y(i,l){i&1&&(n(0,"span",9),o(1,"El correo es obligatorio"),e())}function G(i,l){i&1&&(n(0,"span",9),o(1,"El tel\xE9fono es obligatorio"),e())}function J(i,l){i&1&&(n(0,"span",9),o(1,"La contrase\xF1a es obligatoria"),e())}function K(i,l){if(i&1&&(n(0,"div",16),o(1),e()),i&2){let d=w();a(),v(" ",d.errorMessage()," ")}}function H(i,l){if(i&1&&(n(0,"div",17),o(1),e()),i&2){let d=w();a(),v(" ",d.successMessage()," ")}}function Q(i,l){i&1&&(n(0,"span"),o(1,"Creando cuenta..."),e())}function U(i,l){i&1&&(n(0,"span"),o(1,"Crear Cuenta"),e())}var A=class i{authService=h(B);router=h(R);name="";email="";phone="";password="";isLoading=M(!1);errorMessage=M("");successMessage=M("");constructor(){console.log("\u{1F4DD} RegisterComponent: Inicializado")}async onRegister(){if(console.log("\u{1F4DD} RegisterComponent: Intento de registro",{name:this.name,email:this.email}),this.errorMessage.set(""),this.successMessage.set(""),!this.name||!this.email||!this.phone||!this.password){this.errorMessage.set("Por favor completa todos los campos");return}if(this.password.length<6){this.errorMessage.set("La contrase\xF1a debe tener al menos 6 caracteres");return}this.isLoading.set(!0);try{await new Promise(l=>setTimeout(l,1e3)),this.authService.signIn(this.email,this.password),console.log("\u{1F4DD} RegisterComponent: Registro exitoso"),this.successMessage.set("\xA1Cuenta creada exitosamente! Redirigiendo..."),setTimeout(()=>{this.router.navigate(["/menu"])},1e3)}catch(l){console.error("\u{1F4DD} RegisterComponent: Error en registro",l),this.errorMessage.set("Error al crear la cuenta. Intenta de nuevo.")}finally{this.isLoading.set(!1)}}static \u0275fac=function(d){return new(d||i)};static \u0275cmp=P({type:i,selectors:[["app-register"]],decls:45,vars:20,consts:[["registerForm","ngForm"],[1,"register-page"],[1,"container"],[1,"register-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Juan P\xE9rez",3,"ngModelChange","ngModel"],[1,"error-message"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","tu@email.com",3,"ngModelChange","ngModel"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+34 600 000 000",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","M\xEDnimo 6 caracteres",3,"ngModelChange","ngModel"],[1,"alert","alert--error"],[1,"alert","alert--success"],["type","submit",1,"btn","btn--primary","btn--full",3,"disabled"],[1,"divider"],[1,"alternative-actions"],["routerLink","/login"],["routerLink","/menu"]],template:function(d,t){if(d&1){let s=y();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),o(4,"Crear Cuenta"),e(),n(5,"p",4),o(6,"\xDAnete a Kebab Restaurant"),e(),n(7,"form",5,0),E("ngSubmit",function(){return c(s),p(t.onRegister())}),n(9,"div",6)(10,"label",7),o(11,"Nombre Completo"),e(),n(12,"input",8),_("ngModelChange",function(r){return c(s),C(t.name,r)||(t.name=r),p(r)}),e(),m(13,j,2,0,"span",9),e(),n(14,"div",6)(15,"label",10),o(16,"Correo Electr\xF3nico"),e(),n(17,"input",11),_("ngModelChange",function(r){return c(s),C(t.email,r)||(t.email=r),p(r)}),e(),m(18,Y,2,0,"span",9),e(),n(19,"div",6)(20,"label",12),o(21,"Tel\xE9fono"),e(),n(22,"input",13),_("ngModelChange",function(r){return c(s),C(t.phone,r)||(t.phone=r),p(r)}),e(),m(23,G,2,0,"span",9),e(),n(24,"div",6)(25,"label",14),o(26,"Contrase\xF1a"),e(),n(27,"input",15),_("ngModelChange",function(r){return c(s),C(t.password,r)||(t.password=r),p(r)}),e(),m(28,J,2,0,"span",9),e(),m(29,K,2,1,"div",16),m(30,H,2,1,"div",17),n(31,"button",18),m(32,Q,2,0,"span")(33,U,2,0,"span"),e()(),n(34,"div",19)(35,"span"),o(36,"O"),e()(),n(37,"div",20)(38,"p"),o(39,"\xBFYa tienes cuenta? "),n(40,"a",21),o(41,"Iniciar sesi\xF3n"),e()(),n(42,"p")(43,"a",22),o(44,"Continuar sin registrarse"),e()()()()()()}if(d&2){let s=S(8);a(12),u("error",s.submitted&&!t.name),f("ngModel",t.name),a(),g(s.submitted&&!t.name?13:-1),a(4),u("error",s.submitted&&!t.email),f("ngModel",t.email),a(),g(s.submitted&&!t.email?18:-1),a(4),u("error",s.submitted&&!t.phone),f("ngModel",t.phone),a(),g(s.submitted&&!t.phone?23:-1),a(4),u("error",s.submitted&&!t.password),f("ngModel",t.password),a(),g(s.submitted&&!t.password?28:-1),a(),g(t.errorMessage()?29:-1),a(),g(t.successMessage()?30:-1),a(),x("disabled",t.isLoading()),a(),g(t.isLoading()?32:33)}},dependencies:[O,q,F,L,V,k,z,I,D,W,N,T],styles:['.register-page[_ngcontent-%COMP%]{min-height:100vh;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem 1rem}.container[_ngcontent-%COMP%]{width:100%;max-width:450px}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:3rem 2rem;box-shadow:0 4px 20px #0000001a;border:1px solid #e0e0e0}h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:.5rem;font-size:2rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#333;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d32f2f}input.error[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{display:block;color:#f44336;font-size:.875rem;margin-top:.25rem}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:.9rem}.alert--error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;border:1px solid #ef9a9a}.alert--success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;border:1px solid #a5d6a7}.btn[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s}.btn--primary[_ngcontent-%COMP%]{background:#d32f2f;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#b71c1c;transform:translateY(-2px);box-shadow:0 4px 12px #d32f2f4d}.btn--primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn--full[_ngcontent-%COMP%]{width:100%}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:2rem 0}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;width:100%;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;background:#fff;padding:0 1rem;color:#999;font-size:.875rem}.alternative-actions[_ngcontent-%COMP%]{text-align:center}.alternative-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0;color:#666}.alternative-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d32f2f;text-decoration:none;font-weight:600}.alternative-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}}']})};export{A as RegisterComponent};
