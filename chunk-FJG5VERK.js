import{a as F}from"./chunk-3G2XIVR7.js";import{g as V}from"./chunk-6Z5PNTCW.js";import{$a as _,Fb as T,Gb as v,Ja as P,S as I,Ta as u,Tb as w,Ua as f,Va as k,Wa as S,X as s,Xa as y,Y as p,Ya as i,Za as t,_a as z,ab as x,cb as h,eb as g,fa as O,fb as b,gb as l,nb as n,ob as C,pb as d,sa as D,va as a}from"./chunk-RUVTLGDO.js";function $(o,r){if(o&1){let e=h();_(0,"div",1),b("click",function(){s(e);let m=l();return p(m.onCancel())}),_(1,"div",2),b("click",function(m){return s(e),p(m.stopPropagation())}),_(2,"div",3)(3,"h2"),n(4),x(),_(5,"button",4),b("click",function(){s(e);let m=l();return p(m.onCancel())}),n(6,"\u2715"),x()(),_(7,"div",5)(8,"p"),n(9),x()(),_(10,"div",6)(11,"button",7),b("click",function(){s(e);let m=l();return p(m.onCancel())}),n(12),x(),_(13,"button",8),b("click",function(){s(e);let m=l();return p(m.onConfirm())}),n(14),x()()()()}if(o&2){let e=l();a(4),C(e.title()),a(5),C(e.message()),a(3),d(" ",e.cancelText()," "),a(2),d(" ",e.confirmText()," ")}}var E=class o{isOpen=v(!1);title=v("Confirmar acci\xF3n");message=v("\xBFEst\xE1s seguro de que quieres continuar?");confirmText=v("Confirmar");cancelText=v("Cancelar");confirm=T();cancel=T();onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-confirm-modal"]],inputs:{isOpen:[1,"isOpen"],title:[1,"title"],message:[1,"message"],confirmText:[1,"confirmText"],cancelText:[1,"cancelText"]},outputs:{confirm:"confirm",cancel:"cancel"},decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn--cancel",3,"click"],[1,"btn","btn--confirm",3,"click"]],template:function(e,c){e&1&&u(0,$,15,4,"div",0),e&2&&f(c.isOpen()?0:-1)},dependencies:[w],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .2s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:450px;box-shadow:0 10px 40px #0000004d;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#999;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:2rem}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1rem;line-height:1.6}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-top:1px solid #e0e0e0;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s}.btn--cancel[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.btn--cancel[_ngcontent-%COMP%]:hover{background:#e0e0e0;color:#333}.btn--confirm[_ngcontent-%COMP%]{background:#d32f2f;color:#fff}.btn--confirm[_ngcontent-%COMP%]:hover{background:#b71c1c;transform:translateY(-1px);box-shadow:0 4px 8px #d32f2f4d}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:1rem}.modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.btn[_ngcontent-%COMP%]{width:100%}}"]})};var j=(o,r)=>r.id,L=(o,r)=>r.optionId;function Q(o,r){o&1&&(i(0,"div",2)(1,"div",5),n(2,"\u{1F6D2}"),t(),i(3,"h2"),n(4,"Tu carrito est\xE1 vac\xEDo"),t(),i(5,"p"),n(6,"A\xF1ade algunos productos deliciosos del men\xFA"),t(),i(7,"a",6),n(8,"Ver Men\xFA"),t()())}function R(o,r){if(o&1&&(i(0,"span",23),n(1),t()),o&2){let e=l().$implicit;a(),d("(+",e.price.toFixed(2),"\u20AC)")}}function Y(o,r){if(o&1&&(i(0,"li"),n(1),u(2,R,2,1,"span",23),t()),o&2){let e=r.$implicit;a(),d(" ",e.optionName," "),a(),f(e.price>0?2:-1)}}function B(o,r){if(o&1&&(i(0,"div",17)(1,"strong"),n(2,"Personalizaciones:"),t(),i(3,"ul"),k(4,Y,3,2,"li",null,L),t()()),o&2){let e=l().$implicit;a(4),S(e.selectedCustomizations)}}function G(o,r){if(o&1&&(i(0,"div",18)(1,"strong"),n(2,"Instrucciones:"),t(),n(3),t()),o&2){let e=l().$implicit;a(3),d(" ",e.specialInstructions," ")}}function U(o,r){if(o&1){let e=h();i(0,"div",8),z(1,"img",15),i(2,"div",16)(3,"h3"),n(4),t(),i(5,"p"),n(6),t(),u(7,B,6,0,"div",17),u(8,G,4,1,"div",18),t(),i(9,"div",19)(10,"button",20),g("click",function(){let m=s(e).$implicit,M=l(2);return p(M.decreaseQuantity(m.id))}),n(11,"-"),t(),i(12,"span"),n(13),t(),i(14,"button",20),g("click",function(){let m=s(e).$implicit,M=l(2);return p(M.increaseQuantity(m.id))}),n(15,"+"),t()(),i(16,"div",21),n(17),t(),i(18,"button",22),g("click",function(){let m=s(e).$implicit,M=l(2);return p(M.removeItem(m.id))}),n(19," \u2715 "),t()()}if(o&2){let e=r.$implicit;a(),y("src",e.menuItem.image,D)("alt",e.menuItem.name),a(3),C(e.menuItem.name),a(2),C(e.menuItem.description),a(),f(e.selectedCustomizations.length>0?7:-1),a(),f(e.specialInstructions?8:-1),a(5),C(e.quantity),a(4),d(" ",e.totalPrice.toFixed(2),"\u20AC ")}}function H(o,r){if(o&1){let e=h();i(0,"div",3)(1,"div",7),k(2,U,20,8,"div",8,j),t(),i(4,"div",9)(5,"h2"),n(6,"Resumen del Pedido"),t(),i(7,"div",10)(8,"span"),n(9,"Subtotal (IVA incluido)"),t(),i(10,"span"),n(11),t()(),i(12,"div",11)(13,"span"),n(14,"- Base imponible"),t(),i(15,"span"),n(16),t()(),i(17,"div",11)(18,"span"),n(19,"- IVA (21%)"),t(),i(20,"span"),n(21),t()(),i(22,"div",10)(23,"span"),n(24,"Gastos de env\xEDo"),t(),i(25,"span"),n(26),t()(),i(27,"div",12)(28,"span"),n(29,"Total a pagar"),t(),i(30,"span"),n(31),t()(),i(32,"button",13),n(33," Proceder al Pago "),t(),i(34,"button",14),g("click",function(){s(e);let m=l();return p(m.openClearCartModal())}),n(35," Vaciar Carrito "),t()()()}if(o&2){let e=l();a(2),S(e.cartService.items()),a(9),d("",e.cart().subtotal.toFixed(2),"\u20AC"),a(5),d("",(e.cart().subtotal-e.cart().tax).toFixed(2),"\u20AC"),a(5),d("",e.cart().tax.toFixed(2),"\u20AC"),a(5),d("",e.cart().deliveryFee.toFixed(2),"\u20AC"),a(5),d("",e.cart().total.toFixed(2),"\u20AC")}}var q=class o{cartService=I(F);cart=this.cartService.cart;increaseQuantity(r){let e=this.cartService.items().find(c=>c.id===r);e&&this.cartService.updateQuantity(r,e.quantity+1)}decreaseQuantity(r){let e=this.cartService.items().find(c=>c.id===r);e&&this.cartService.updateQuantity(r,e.quantity-1)}showDeleteModal=O(!1);showClearModal=O(!1);itemToDelete=O(null);removeItem(r){this.itemToDelete.set(r),this.showDeleteModal.set(!0)}confirmRemoveItem(){let r=this.itemToDelete();r&&this.cartService.removeItem(r),this.showDeleteModal.set(!1),this.itemToDelete.set(null)}cancelRemoveItem(){this.showDeleteModal.set(!1),this.itemToDelete.set(null)}openClearCartModal(){this.showClearModal.set(!0)}confirmClearCart(){this.cartService.clearCart(),this.showClearModal.set(!1)}cancelClearCart(){this.showClearModal.set(!1)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-cart"]],decls:8,vars:11,consts:[[1,"cart-page"],[1,"container"],[1,"empty-cart"],[1,"cart-content"],[3,"confirm","cancel","isOpen","title","message","confirmText","cancelText"],[1,"empty-cart__icon"],["routerLink","/menu",1,"btn","btn--primary"],[1,"cart-items"],[1,"cart-item"],[1,"cart-summary"],[1,"summary-row"],[1,"summary-row","summary-row--detail"],[1,"summary-row","summary-row--total"],["routerLink","/checkout",1,"btn","btn--checkout"],[1,"btn","btn--clear",3,"click"],[3,"src","alt"],[1,"cart-item__details"],[1,"customizations"],[1,"special-instructions"],[1,"cart-item__quantity"],[3,"click"],[1,"cart-item__price"],[1,"cart-item__remove",3,"click"],[1,"price-indicator"]],template:function(e,c){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Carrito de Compras"),t(),u(4,Q,9,0,"div",2)(5,H,36,5,"div",3),t()(),i(6,"app-confirm-modal",4),g("confirm",function(){return c.confirmRemoveItem()})("cancel",function(){return c.cancelRemoveItem()}),t(),i(7,"app-confirm-modal",4),g("confirm",function(){return c.confirmClearCart()})("cancel",function(){return c.cancelClearCart()}),t()),e&2&&(a(4),f(c.cartService.itemCount()===0?4:5),a(2),y("isOpen",c.showDeleteModal())("title","Eliminar producto")("message","\xBFEst\xE1s seguro de que quieres eliminar este producto del carrito?")("confirmText","Eliminar")("cancelText","Cancelar"),a(),y("isOpen",c.showClearModal())("title","Vaciar carrito")("message","\xBFEst\xE1s seguro de que quieres vaciar todo el carrito? Esta acci\xF3n no se puede deshacer.")("confirmText","Vaciar carrito")("cancelText","Cancelar"))},dependencies:[w,V,E],styles:[".cart-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;padding:1rem 0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1rem;font-size:1.75rem}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:2.5rem 1.5rem;background:#fff;border-radius:10px;box-shadow:0 2px 8px #0000001a}.empty-cart__icon[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:.75rem}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:.4rem;font-size:1.4rem}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.25rem;font-size:.95rem}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 380px;gap:1.25rem}.cart-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:85px 1fr auto auto auto;gap:1rem;background:#fff;padding:1rem;border-radius:10px;box-shadow:0 2px 8px #0000001a;align-items:center}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85px;height:85px;object-fit:cover;border-radius:8px}.cart-item__details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:.2rem;font-size:1.05rem}.cart-item__details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.4rem}.customizations[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:.4rem}.customizations[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.2rem 0 0 .8rem;padding:0}.customizations[_ngcontent-%COMP%]   .price-indicator[_ngcontent-%COMP%]{color:#d32f2f;font-weight:600;margin-left:.3rem}.special-instructions[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:.4rem}.cart-item__quantity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;background:#f5f5f5;padding:.4rem;border-radius:20px}.cart-item__quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border:none;background:#fff;border-radius:50%;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;transition:background .2s}.cart-item__quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.cart-item__quantity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;min-width:25px;text-align:center;font-size:.95rem}.cart-item__price[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700;color:#d32f2f;min-width:70px;text-align:right}.cart-item__remove[_ngcontent-%COMP%]{width:30px;height:30px;border:none;background:#ffebee;color:#d32f2f;border-radius:50%;cursor:pointer;font-size:1.15rem;transition:background .2s}.cart-item__remove[_ngcontent-%COMP%]:hover{background:#ffcdd2}.cart-summary[_ngcontent-%COMP%]{background:#fff;padding:1.25rem;border-radius:10px;box-shadow:0 2px 8px #0000001a;height:fit-content;position:sticky;top:80px}.cart-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem;font-size:1.3rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;color:#666;font-size:.95rem}.summary-row--detail[_ngcontent-%COMP%]{font-size:.85rem;color:#999;padding:.35rem 0 .35rem .75rem}.summary-row--total[_ngcontent-%COMP%]{border-top:2px solid #eee;margin-top:.75rem;padding-top:.75rem;font-size:1.15rem;font-weight:700;color:#333}.btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:20px;font-weight:600;font-size:.95rem;cursor:pointer;transition:all .2s;text-decoration:none;display:inline-block;text-align:center}.btn--primary[_ngcontent-%COMP%]{background:#d32f2f;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{background:#b71c1c}.btn--checkout[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;margin-top:1rem;font-size:1.05rem}.btn--checkout[_ngcontent-%COMP%]:hover{background:#b71c1c;transform:translateY(-2px)}.btn--clear[_ngcontent-%COMP%]{background:#f5f5f5;color:#666;margin-top:.6rem}.btn--clear[_ngcontent-%COMP%]:hover{background:#e0e0e0}@media (max-width: 968px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.cart-summary[_ngcontent-%COMP%]{position:static}.cart-item[_ngcontent-%COMP%]{grid-template-columns:70px 1fr;gap:.75rem}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.cart-item__quantity[_ngcontent-%COMP%], .cart-item__price[_ngcontent-%COMP%], .cart-item__remove[_ngcontent-%COMP%]{grid-column:2}}"]})};export{q as CartComponent};
